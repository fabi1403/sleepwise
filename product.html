<!DOCTYPE html>
<html lang="es">

<head>
  <!-- Meta Tags -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="sue√±o, descanso, recomendaciones, edad, Sleepwise" />
  <meta name="description" content="Descubre recomendaciones de sue√±o personalizadas seg√∫n tu edad y mejora tu descanso cada noche. ¬°Duerme mejor, vive mejor!" />
  <meta name="author" content="Sleepwise" />

  <title>Sleepwise - Recomendaciones de Sue√±o</title>

  <!-- Estilos CSS -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link href="https://fonts.googleapis.com/css?family=Dosis:400,500|Poppins:400,700&display=swap" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
  <link href="css/modern-style.css" rel="stylesheet" />
  <link rel="stylesheet" href="../style.css">
  <style>
    /* Estilo para pesta√±as horizontales */
    .horizontal-tabs {
        display: flex;
        flex-direction: row;
        width: 100%;
        gap: 20px;
    }
    
    .tab-panel {
        flex: 1;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.8);
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Estilos para la navegaci√≥n horizontal */
    .header-nav .navbar-nav {
        display: flex;
        flex-direction: row;
        gap: 15px;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    /* Estilos para las preguntas sugeridas */
    .suggested-questions-container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 10px;
        margin: 15px 0;
        justify-content: center;
    }

    .suggested-question-btn {
        background-color: #f0f8ff;
        border: 1px solid #add8e6;
        border-radius: 20px;
        padding: 8px 15px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .suggested-question-btn:hover {
        background-color: #add8e6;
        transform: scale(1.05);
    }
    
    /* Estilos para los mensajes del chatbot */
    .message {
        margin-bottom: 10px;
        padding: 10px 15px;
        border-radius: 15px;
        max-width: 80%;
        white-space: pre-line;
    }
    
    .user-message {
        background-color: #e6f7ff;
        margin-left: auto;
        border-bottom-right-radius: 5px;
    }
    
    .bot-message {
        background-color: #f0f0f0;
        margin-right: auto;
        border-bottom-left-radius: 5px;
    }
    
    .chat-container {
        height: 300px;
        overflow-y: auto;
        padding: 15px;
        display: flex;
        flex-direction: column;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
  </style>
  
  <!-- Favicon -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  
  <link rel="icon" type="image/png" href="public/logo.png" />
  
  <title>Producto - Sleepwise</title>
</head>

<body>
    <!-- HEADER SECTION -->
    <header class="modern-header">
        <div class="header-left">
            <img src="public/logo.png" alt="Sleepwise Logo" class="logo-img">
            <h1>Sleepwise</h1>
        </div>
        <div class="header-center-emojis">üò¥üí§üåô‚ú®</div>
        <nav class="header-nav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">Inicio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="about.html">Sobre nosotros</a>
                </li> 
                <a class="nav-link" href="product.html">Productos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="client.html">Clientes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contact.html">Cont√°ctanos</a>
                </li>
                <li class="nav-item">
                    <a href="#" id="ia-info-link" class="ai-link" onclick="showChatbotInfo()">Informaci√≥n IA ü§ñ</a>
                </li>
            </ul>
        </nav>
        <div class="header-right-theme">
            <span id="theme-toggle-emoji" class="theme-toggle">‚òÄÔ∏è</span>
        </div>
    </header>

    <!-- MAIN CONTENT SECTION -->
    <main class="content-container">
        <section id="intro" class="intro-section">
            <h2>¬°Bienvenido a Sleepwise!</h2>
            <p>üåô‚ú® Descubre recomendaciones de sue√±o personalizadas seg√∫n tu edad üßíüëµ</p>
            <p>y mejora tu descanso cada noche. ¬°Duerme mejor, vive mejor! üò¥üí´</p>
        </section>
        
        <section id="age-input" class="age-input-section">
            <h2>Ingresa tu edad</h2>
            <div class="input-group">
                <input type="number" id="age" placeholder="Introduce tu edad" class="age-input">
                <button id="show-recommendations" class="recommendations-btn" onclick="showSleepInfo()">Conoce m√°s sobre tu sue√±o</button>
            </div>
        </section>
        
        <section id="tabs" class="tabs-section horizontal-tabs hidden">
            <div id="left-tab" class="tab-panel">
                <!-- Age group logo and recommendation will be displayed here by script -->
            </div>
            <div id="right-tab" class="tab-panel">
                <h2>Informaci√≥n sobre el sue√±o</h2>
                <p>Detalles sobre el tiempo y las horas recomendadas de sue√±o.</p>
            </div>
        </section>
        
        <div id="center-emoji" class="center-emoji"></div>
    </main>

    <!-- CHATBOT SECTION -->
    <section id="ia-info-section" class="ia-section hidden">
        <div class="chatgpt-interface">
            <div id="chat-box" class="chat-container">
                <div class="message bot-message">¬°Hola! Soy tu asistente de sue√±o. ¬øEn qu√© puedo ayudarte hoy?</div>
                <!-- Messages will be added here by script -->
            </div>
            <div class="suggested-questions-container" id="suggested-questions-container">
                <!-- Las preguntas sugeridas se a√±adir√°n aqu√≠ mediante JavaScript -->
            </div>
            <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Escribe tu pregunta aqu√≠...">
                <button id="send-message">Enviar</button>
            </div>
        </div>
    </section>

    <!-- FOOTER SECTION -->
    <footer class="modern-footer">
        <p>&copy; @FBN_Sleepwise 2025</p>
    </footer>
    
    <!-- NAVIGATION CONTROLS -->
    <div id="back-arrow" class="back-navigation" onclick="goToProductHome()">&#x2190;</div>
 
    <!-- SCRIPTS -->
    <!-- Core functionality script -->
    <script src="../script.js"></script>
    <!-- Chatbot functionality script -->
    <script src="../chatbot.js"></script>
    
    <script>
        // Funci√≥n para determinar el grupo de edad
        function getAgeGroup(age) {
            if (age >= 0 && age <= 2) return 'bebes';
            if (age >= 3 && age <= 13) return 'ninos';
            if (age >= 14 && age <= 17) return 'adolescentes';
            if (age >= 18 && age <= 64) return 'jovenes';
            if (age >= 65) return 'adultos_mayores';
            return null; // Handle invalid age
        }

        // Funci√≥n para mostrar la informaci√≥n del script.js
        function showSleepInfo() {
            const age = parseInt(document.getElementById('age').value, 10);
            if (!isNaN(age)) {
                const group = getAgeGroup(age);
                if (group) {
                    // Ocultar secciones iniciales
                    document.getElementById('intro').classList.add('hidden');
                    document.getElementById('age-input').classList.add('hidden');
                    
                    // Mostrar secci√≥n de pesta√±as
                    document.getElementById('tabs').classList.remove('hidden');
                    document.getElementById('back-arrow').classList.add('visible');
                    
                    // Cargar datos desde script.js
                    // Aqu√≠ se simula la funcionalidad de displayRecommendationsInTabs
                    // ya que no podemos acceder directamente a las funciones de script.js
                    loadSleepRecommendations(group);
                }
            }
        }
        
        // Funci√≥n para cargar recomendaciones de sue√±o
        function loadSleepRecommendations(group) {
            // Definir recomendaciones b√°sicas para cada grupo de edad
            const recommendations = {
                bebes: "üë∂üõèÔ∏è Los beb√©s necesitan entre 12 y 16 horas de sue√±o al d√≠a, incluyendo siestas.",
                ninos: "üßíüåô Los ni√±os necesitan 10-13 horas de sue√±o para un desarrollo √≥ptimo.",
                adolescentes: "üßëüì± Los adolescentes necesitan 8-10 horas de sue√±o para un rendimiento √≥ptimo.",
                jovenes: "üéßüõå Los adultos j√≥venes necesitan 7-9 horas de sue√±o por noche.",
                adultos_mayores: "üëµüï∞Ô∏è Los adultos mayores necesitan alrededor de 7-8 horas de sue√±o."
            };
            
            // Mostrar recomendaci√≥n en el panel izquierdo
            document.getElementById('left-tab').innerHTML = `
                <img src="public/${group}_icon.svg" alt="${group} icon" style="height: 50px; margin-bottom: 10px;">
                <h2>Recomendaciones para ${group.replace('_', ' ')}</h2>
                <p>${recommendations[group]}</p>
            `;
            
            // Mostrar informaci√≥n detallada en el panel derecho
            document.getElementById('right-tab').innerHTML = `
                <h2>Informaci√≥n detallada</h2>
                <p>Para m√°s informaci√≥n detallada sobre las recomendaciones de sue√±o para este grupo de edad, consulta nuestras gu√≠as completas.</p>
            `;
        }
        
        // Funci√≥n para mostrar el chatbot
        function showChatbotInfo() {
            // Ocultar secciones actuales
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('age-input').classList.add('hidden');
            document.getElementById('tabs').classList.add('hidden');
            
            // Mostrar secci√≥n de IA
            document.getElementById('ia-info-section').classList.remove('hidden');
            document.getElementById('back-arrow').classList.add('visible');
            
            // Cargar preguntas sugeridas
            loadSuggestedQuestions();
        }
        
        // Definici√≥n de preguntas sugeridas y respuestas predefinidas
        const chatbotData = {
            suggestedQuestions: [
                'üí´ ¬øC√≥mo puedo mejorar mi calidad de sue√±o?',
                'üò¥ ¬øQu√© efectos tiene la falta de sue√±o?',
                'üåô ¬øCu√°les son los mejores h√°bitos antes de dormir?',
                '‚è∞ ¬øPor qu√© es importante mantener un horario de sue√±o regular?'
            ],
            responses: {
                'mejora_calidad': {
                    question: '¬øC√≥mo puedo mejorar mi calidad de sue√±o?',
                    answer: '‚ú®üí´ ¬°Hola! Aqu√≠ tienes consejos para mejorar tu sue√±o: üåü\n\n‚è∞ 1. Mant√©n un horario regular de sue√±o üí§\nüåô 2. Crea un ambiente oscuro y fresco en tu habitaci√≥n üå¨Ô∏è\nüì± 3. Evita las pantallas antes de dormir üö´\nüèÉ‚Äç‚ôÇÔ∏è 4. Haz ejercicio durante el d√≠a üí™\n‚òï 5. Evita la cafe√≠na por la tarde ‚ùå\nüßò‚Äç‚ôÄÔ∏è 6. Practica t√©cnicas de relajaci√≥n antes de dormir üéØ'
                },
                'efectos_falta': {
                    question: '¬øQu√© efectos tiene la falta de sue√±o?',
                    answer: '‚ö†Ô∏è ¬°Atenci√≥n! La falta de sue√±o puede afectarte as√≠: üö®\n\nüß† 1. Disminuci√≥n de la concentraci√≥n y memoria üìö\nüò§ 2. Cambios de humor e irritabilidad üò´\nü§í 3. Debilitamiento del sistema inmune üõ°Ô∏è\n‚ö° 4. Mayor riesgo de problemas de salud üè•\nüò∞ 5. Aumento del estr√©s y ansiedad üí≠\nüìâ 6. Menor rendimiento f√≠sico y mental üí™'
                },
                'habitos': {
                    question: '¬øCu√°les son los mejores h√°bitos antes de dormir?',
                    answer: 'üåü ¬°Descubre los mejores h√°bitos para un dulce sue√±o! üí´\n\nüìö 1. Leer un libro tranquilamente üìñ\nüöø 2. Tomar una ducha tibia relajante üíÜ‚Äç‚ôÄÔ∏è\nüßò‚Äç‚ôÄÔ∏è 3. Practicar meditaci√≥n o respiraci√≥n profunda üå∏\nü•ó 4. Evitar comidas pesadas üö´\nüì± 5. Apagar dispositivos electr√≥nicos üåô\n‚ú® 6. Mantener una rutina relajante üéØ'
                },
                'horario_regular': {
                    question: '¬øPor qu√© es importante mantener un horario de sue√±o regular?',
                    answer: '‚è∞ ¬°Descubre por qu√© un horario regular es tu mejor amigo! üåü\n\nüåô 1. Ayuda a regular tu reloj biol√≥gico ‚ö°\nüí´ 2. Mejora la calidad del sue√±o üéØ\nüò¥ 3. Facilita quedarse dormido y despertar üåÖ\nüí™ 4. Optimiza las funciones corporales üîÑ\n‚ù§Ô∏è 5. Reduce el riesgo de problemas de salud üè•\n‚ú® 6. Mejora el estado de √°nimo y la energ√≠a durante el d√≠a üåû'
                }
            }
        };
        
        // Funci√≥n para cargar las preguntas sugeridas
        function loadSuggestedQuestions() {
            const suggestedContainer = document.getElementById('suggested-questions-container');
            if (!suggestedContainer) return;
            
            // Limpiar contenedor
            suggestedContainer.innerHTML = '';
            
            // Agregar preguntas sugeridas
            chatbotData.suggestedQuestions.forEach(question => {
                const questionButton = document.createElement('button');
                questionButton.className = 'suggested-question-btn';
                questionButton.textContent = question;
                questionButton.addEventListener('click', () => handleUserQuestion(question));
                suggestedContainer.appendChild(questionButton);
            });
        }

        // Funci√≥n para manejar el env√≠o de mensajes del usuario
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chat-input');
            const sendButton = document.getElementById('send-message');

            if (chatInput && sendButton) {
                sendButton.addEventListener('click', function() {
                    const message = chatInput.value.trim();
                    if (message) {
                        handleUserQuestion(message);
                        chatInput.value = '';
                    }
                });

                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const message = chatInput.value.trim();
                        if (message) {
                            handleUserQuestion(message);
                            chatInput.value = '';
                        }
                    }
                });
            }
        });

        // Funci√≥n para manejar las preguntas del usuario
        function handleUserQuestion(question) {
            const chatBox = document.getElementById('chat-box');
            
            // Agregar mensaje del usuario
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.textContent = question;
            chatBox.appendChild(userMessage);

            // Buscar respuesta en el chatbotData
            let response = '';
            if (question.includes('mejorar') || question.includes('calidad de sue√±o')) {
                response = chatbotData.responses.mejora_calidad.answer;
            } else if (question.includes('falta de sue√±o') || question.includes('efectos')) {
                response = chatbotData.responses.efectos_falta.answer;
            } else if (question.includes('h√°bitos') || question.includes('antes de dormir')) {
                response = chatbotData.responses.habitos.answer;
            } else if (question.includes('horario') || question.includes('regular')) {
                response = chatbotData.responses.horario_regular.answer;
            } else {
                response = 'Lo siento, no tengo una respuesta espec√≠fica para esa pregunta. ¬øPodr√≠as intentar con una de las preguntas sugeridas?';
            }

            // Simular delay de respuesta
            setTimeout(() => {
                const botMessage = document.createElement('div');
                botMessage.className = 'message bot-message';
                botMessage.textContent = response;
                chatBox.appendChild(botMessage);
                chatBox.scrollTop = chatBox.scrollHeight;
            }, 500);
        }
        // Nueva funci√≥n para regresar al inicio de productos
        function goToProductHome() {
            document.getElementById('intro').classList.remove('hidden');
            document.getElementById('age-input').classList.remove('hidden');
            document.getElementById('tabs').classList.add('hidden');
            document.getElementById('ia-info-section').classList.add('hidden');
            document.getElementById('back-arrow').classList.remove('visible');
        }
    </script>
</body>

</html>